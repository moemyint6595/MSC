@inherits LayoutComponentBase

<div id="page" class="page">
    <div class="login-background">
        <img id="bg-img-ele" src="@bgsrc" loading="lazy" class="img"
             onerror="this.onerror=null; this.src='image/errorimage.png';" />
    </div>
    <div class="content">
        <div>
            @Body
        </div>
    </div>
</div>
<div id="loading" class="loading loading-hide">
    <div class="loading-box">
        <MSC.Icons.LoadingIcon />
    </div>
</div>

<div id="message" class="message message-hide">
    <div class="msg-container">
        <div class="msg-svgbox">
            <div>@SVGService.SadFace(70, 70)</div>
            <div id="msg-title">Error</div>
        </div>
        <div id="msg-text" class="msg-textbox"></div>
        <div class="msg-btnbox">
            <button @onclick="OnMsgOK" type="button" class="btn-none msgokbtn">OK</button>
        </div>
    </div>
</div>

@code {
    private string bgsrc = "";

    protected override void OnInitialized()
    {
        bgsrc = new Random().Next(1, 3) == 2 ? "https://b.itstar.io/hrms/f/c/154bf296-6d2e-4706-b2ca-a43a207c2efb/m/1/63fa7688-60bb-4110-82af-cbf33cd03ae7/Anime.jpg" : "https://b.itstar.io/hrms/f/c/154bf296-6d2e-4706-b2ca-a43a207c2efb/m/1/c/1/5d60a297-1eae-4848-a170-05e37c1430dd/anime4.jpg";
        StateHasChanged();
    }

    protected override void OnAfterRender(bool firstRender)
    {
        if (firstRender)
        {

        }
    }

    private void OnMsgOK()
    {
        ComFn.CLoseError();
    }
}